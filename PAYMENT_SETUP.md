# üí≥ –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —Å–∏—Å—Ç–µ–º–∏ –æ–ø–ª–∞—Ç–∏ CoffeeOracle

## üöÄ –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç

### 1. –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –∞–∫–∞—É–Ω—Ç—É Stripe
1. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –Ω–∞ [stripe.com](https://stripe.com)
2. –ó–∞—Ä–µ—î—Å—Ç—Ä—É–π—Ç–µ—Å—è —Ç–∞ —Å—Ç–≤–æ—Ä—ñ—Ç—å –∞–∫–∞—É–Ω—Ç
3. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –≤ Dashboard ‚Üí Developers ‚Üí API keys
4. –°–∫–æ–ø—ñ—é–π—Ç–µ `Publishable key` —Ç–∞ `Secret key`

### 2. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∑–º—ñ–Ω–Ω–∏—Ö —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞
–°—Ç–≤–æ—Ä—ñ—Ç—å —Ñ–∞–π–ª `.env.local` –≤ –∫–æ—Ä–µ–Ω—ñ –ø—Ä–æ–µ–∫—Ç—É:

```env
# Stripe Configuration
STRIPE_SECRET_KEY=sk_test_your_test_secret_key_here
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_test_your_test_publishable_key_here

# App Configuration
NEXT_PUBLIC_URL=http://localhost:3000
NEXT_PUBLIC_APP_NAME=CoffeeOracle
NEXT_PUBLIC_APP_DESCRIPTION=AI-Powered Coffee Ground Divination

# Contact Information
NEXT_PUBLIC_CONTACT_EMAIL=hello@coffeeoracle.org
NEXT_PUBLIC_CONTACT_TWITTER=@coffeeoracle
NEXT_PUBLIC_CONTACT_GITHUB=coffeeoracle

# Domain Configuration
NEXT_PUBLIC_DOMAIN=coffeeoracle.org
```

### 3. –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è
1. –ó–∞–ø—É—Å—Ç—ñ—Ç—å –ø—Ä–æ–µ–∫—Ç: `npm run dev`
2. –í—ñ–¥–∫—Ä–∏–π—Ç–µ http://localhost:3000
3. –í–∏–±–µ—Ä—ñ—Ç—å –Ω–∞–º–µ—Ä–µ–Ω–∏–µ (Love, Money, Education, Luck)
4. –û–±–µ—Ä—ñ—Ç—å –ø–ª–∞–Ω –æ–ø–ª–∞—Ç–∏
5. –í–∏–∫–æ—Ä–∏—Å—Ç–∞–π—Ç–µ —Ç–µ—Å—Ç–æ–≤—ñ –¥–∞–Ω—ñ –∫–∞—Ä—Ç–∫–∏ Stripe

## üß™ –¢–µ—Å—Ç–æ–≤—ñ –¥–∞–Ω—ñ –∫–∞—Ä—Ç–æ–∫

### –£—Å–ø—ñ—à–Ω–∞ –æ–ø–ª–∞—Ç–∞:
- **–ù–æ–º–µ—Ä:** 4242 4242 4242 4242
- **–¢–µ—Ä–º—ñ–Ω:** –ë—É–¥—å-—è–∫–∞ –º–∞–π–±—É—Ç–Ω—è –¥–∞—Ç–∞
- **CVC:** –ë—É–¥—å-—è–∫—ñ 3 —Ü–∏—Ñ—Ä–∏
- **ZIP:** –ë—É–¥—å-—è–∫—ñ 5 —Ü–∏—Ñ—Ä

### –°–∫–∞—Å–æ–≤–∞–Ω–∞ –æ–ø–ª–∞—Ç–∞:
- **–ù–æ–º–µ—Ä:** 4000 0000 0000 0002

### –ù–µ–¥–æ—Å—Ç–∞—Ç–Ω—å–æ –∫–æ—à—Ç—ñ–≤:
- **–ù–æ–º–µ—Ä:** 4000 0000 0000 9995

## üí∞ –ú–æ–¥–µ–ª—ñ –º–æ–Ω–µ—Ç–∏–∑–∞—Ü—ñ—ó

### Freemium –º–æ–¥–µ–ª—å:
- **–ë–µ–∑–∫–æ—à—Ç–æ–≤–Ω–æ:** 1 –ø—Ä–æ—Ä–æ—Ü—Ç–≤–æ –Ω–∞ –¥–µ–Ω—å
- **Premium ($9.99/–º—ñ—Å):** –ù–µ–æ–±–º–µ–∂–µ–Ω–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –ø—Ä–æ—Ä–æ—Ü—Ç–≤
- **VIP ($19.99/–º—ñ—Å):** –ü—Ä–æ—Ä–æ—Ü—Ç–≤–∞ + –¥–µ—Ç–∞–ª—å–Ω–∞ –∞–Ω–∞–ª—ñ—Ç–∏–∫–∞ + –µ–∫—Å–ø–µ—Ä—Ç–Ω—ñ –ø–æ—Ä–∞–¥–∏

### Pay-per-use:
- **$0.99** –∑–∞ –∫–æ–∂–Ω–µ –ø—Ä–æ—Ä–æ—Ü—Ç–≤–æ
- **$2.99** –∑–∞ –¥–µ—Ç–∞–ª—å–Ω–µ –ø—Ä–æ—Ä–æ—Ü—Ç–≤–æ –∑ –∞—Å—Ç—Ä–æ–ª–æ–≥—ñ—á–Ω–∏–º–∏ –¥–µ—Ç–∞–ª—è–º–∏

### –ü–∞–∫–µ—Ç–∏:
- **5 –ø—Ä–æ—Ä–æ—Ü—Ç–≤:** $3.99
- **10 –ø—Ä–æ—Ä–æ—Ü—Ç–≤:** $6.99
- **20 –ø—Ä–æ—Ä–æ—Ü—Ç–≤:** $11.99

## üîß –¢–µ—Ö–Ω—ñ—á–Ω–∞ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç–∏:
- `PaymentModal.tsx` - –ú–æ–¥–∞–ª—å–Ω–µ –≤—ñ–∫–Ω–æ –∑ –ø–ª–∞–Ω–∞–º–∏
- `IntentSelection.tsx` - –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ –º–æ–¥–∞–ª—å–Ω–∏–º –≤—ñ–∫–Ω–æ–º
- `app/api/create-checkout-session/route.ts` - API –¥–ª—è Stripe

### –°—Ç–æ—Ä—ñ–Ω–∫–∏:
- `app/success/page.tsx` - –£—Å–ø—ñ—à–Ω–∞ –æ–ø–ª–∞—Ç–∞
- `app/cancel/page.tsx` - –°–∫–∞—Å–æ–≤–∞–Ω–∞ –æ–ø–ª–∞—Ç–∞

## üåç –ü—ñ–¥—Ç—Ä–∏–º—É–≤–∞–Ω—ñ –∫—Ä–∞—ó–Ω–∏

Stripe –ø—ñ–¥—Ç—Ä–∏–º—É—î 135+ –∫—Ä–∞—ó–Ω, –≤–∫–ª—é—á–∞—é—á–∏:
- üá∫üá∏ –°–®–ê
- üá®üá¶ –ö–∞–Ω–∞–¥–∞
- üá¨üáß –í–µ–ª–∏–∫–æ–±—Ä–∏—Ç–∞–Ω—ñ—è
- üá©üá™ –ù—ñ–º–µ—á—á–∏–Ω–∞
- üá´üá∑ –§—Ä–∞–Ω—Ü—ñ—è
- üáÆüáπ –Ü—Ç–∞–ª—ñ—è
- üá™üá∏ –Ü—Å–ø–∞–Ω—ñ—è
- üá∫üá¶ –£–∫—Ä–∞—ó–Ω–∞

## üì± Webhook –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è

### 1. –°—Ç–≤–æ—Ä–µ–Ω–Ω—è webhook endpoint:
```bash
stripe listen --forward-to localhost:3000/api/webhooks
```

### 2. –î–æ–¥–∞–≤–∞–Ω–Ω—è –≤ Stripe Dashboard:
- Dashboard ‚Üí Developers ‚Üí Webhooks
- Endpoint URL: `https://coffeeoracle.org/api/webhooks`
- Events: `checkout.session.completed`, `payment_intent.succeeded`

## üîí –ë–µ–∑–ø–µ–∫–∞

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó:
1. **–ù—ñ–∫–æ–ª–∏ –Ω–µ –∫–æ–º—ñ—Ç—å—Ç–µ** `.env.local` –≤ git
2. **–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ HTTPS** –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—ñ
3. **–í–∞–ª—ñ–¥—É–π—Ç–µ** –≤—Å—ñ –≤—Ö—ñ–¥–Ω—ñ –¥–∞–Ω—ñ
4. **–õ–æ–≥—É–π—Ç–µ** –≤—Å—ñ —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ—ó
5. **–ú–æ–Ω—ñ—Ç–æ—Ä—Ç–µ** –ø—ñ–¥–æ–∑—Ä—ñ–ª—É –∞–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å

### –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø–ª–∞—Ç–µ–∂—ñ–≤:
```typescript
// –í webhook endpoint
const event = stripe.webhooks.constructEvent(
  request.body,
  signature,
  process.env.STRIPE_WEBHOOK_SECRET!
)

if (event.type === 'checkout.session.completed') {
  const session = event.data.object
  // –û–±—Ä–æ–±–∫–∞ —É—Å–ø—ñ—à–Ω–æ—ó –æ–ø–ª–∞—Ç–∏
}
```

## üìä –ê–Ω–∞–ª—ñ—Ç–∏–∫–∞ —Ç–∞ –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥

### Stripe Dashboard:
- –ü–µ—Ä–µ–≥–ª—è–¥–∞–π—Ç–µ –≤—Å—ñ —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ—ó
- –ê–Ω–∞–ª—ñ–∑—É–π—Ç–µ –∫–æ–Ω–≤–µ—Ä—Å—ñ—é
- –ú–æ–Ω—ñ—Ç–æ—Ä—Ç–µ –ø–æ–º–∏–ª–∫–∏
- –ù–∞–ª–∞—à—Ç–æ–≤—É–π—Ç–µ –∞–ª–µ—Ä—Ç–∏

### –í–ª–∞—Å–Ω–∞ –∞–Ω–∞–ª—ñ—Ç–∏–∫–∞:
- –í—ñ–¥—Å—Ç–µ–∂—É–π—Ç–µ –ø–æ–ø—É–ª—è—Ä–Ω—ñ –ø–ª–∞–Ω–∏
- –ê–Ω–∞–ª—ñ–∑—É–π—Ç–µ –ø–æ–≤–µ–¥—ñ–Ω–∫—É –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤
- –û–ø—Ç–∏–º—ñ–∑—É–π—Ç–µ —Ü—ñ–Ω–∏

## üöÄ –†–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—ñ

### 1. –û–Ω–æ–≤–ª–µ–Ω–Ω—è –∑–º—ñ–Ω–Ω–∏—Ö:
```env
STRIPE_SECRET_KEY=sk_live_your_live_secret_key
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_live_your_live_publishable_key
NEXT_PUBLIC_URL=https://coffeeoracle.org
```

### 2. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –¥–æ–º–µ–Ω—É:
- –î–æ–¥–∞–π—Ç–µ –¥–æ–º–µ–Ω –≤ Stripe Dashboard
- –ù–∞–ª–∞—à—Ç—É–π—Ç–µ webhook endpoints
- –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ SSL —Å–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç–∏

### 3. –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è:
- –ü—Ä–æ—Ç–µ—Å—Ç—É–π—Ç–µ –≤—Å—ñ —Å—Ü–µ–Ω–∞—Ä—ñ—ó –æ–ø–ª–∞—Ç–∏
- –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ webhook delivery
- –í–∞–ª—ñ–¥—É–π—Ç–µ email –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è

## üìû –ü—ñ–¥—Ç—Ä–∏–º–∫–∞

### Stripe Support:
- [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è](https://stripe.com/docs)
- [API Reference](https://stripe.com/docs/api)
- [Support Center](https://support.stripe.com)

### CoffeeOracle Support:
- Email: hello@coffeeoracle.org
- Twitter: @coffeeoracle
- GitHub: coffeeoracle

## üéØ –ù–∞—Å—Ç—É–ø–Ω—ñ –∫—Ä–æ–∫–∏

1. **–Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ –±–∞–∑–æ—é –¥–∞–Ω–∏—Ö** –¥–ª—è –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤
2. **–°–∏—Å—Ç–µ–º–∞ –ø—ñ–¥–ø–∏—Å–æ–∫** –¥–ª—è —Ä–µ–∫—É—Ä–µ–Ω—Ç–Ω–∏—Ö –ø–ª–∞—Ç–µ–∂—ñ–≤
3. **–ê–Ω–∞–ª—ñ—Ç–∏–∫–∞ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤** —Ç–∞ –ø–µ—Ä—Å–æ–Ω–∞–ª—ñ–∑–∞—Ü—ñ—è
4. **–ú–æ–±—ñ–ª—å–Ω–∏–π –¥–æ–¥–∞—Ç–æ–∫** –∑ push-–ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è–º–∏
5. **–ü–∞—Ä—Ç–Ω–µ—Ä—Å—å–∫–∞ –ø—Ä–æ–≥—Ä–∞–º–∞** –¥–ª—è –±–ª–æ–≥–µ—Ä—ñ–≤

---

**–ü—Ä–∏–º—ñ—Ç–∫–∞:** –¶–µ —Ç–µ—Å—Ç–æ–≤–∞ –≤–µ—Ä—Å—ñ—è. –î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É –∑–∞–º—ñ–Ω—ñ—Ç—å –≤—Å—ñ —Ç–µ—Å—Ç–æ–≤—ñ –∫–ª—é—á—ñ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ñ —Ç–∞ –Ω–∞–ª–∞—à—Ç—É–π—Ç–µ –¥–æ–¥–∞—Ç–∫–æ–≤—ñ –∑–∞—Ö–æ–¥–∏ –±–µ–∑–ø–µ–∫–∏.
